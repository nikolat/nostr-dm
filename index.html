<!doctype html>
<html lang="ja">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<title>Nostr DM</title>
	</head>
	<body>
		<div id="container">
			<h1>NostrのDMをなんかするやつ</h1>
			<blockquote class="warning" cite="https://github.com/nostr-protocol/nips/blob/master/04.md">
				<p>
					<strong>Warning</strong> <code>unrecommended</code>: deprecated in favor of
					<a href="https://github.com/nostr-protocol/nips/blob/master/17.md">NIP-17</a>
				</p>
				<footer>
					<cite><a href="https://github.com/nostr-protocol/nips/blob/master/04.md">NIP-04</a>: Encrypted Direct Message</cite>
				</footer>
			</blockquote>
			<dl>
				<dt><label for="login">受信用公開鍵をブラウザ拡張から取得(NIP-07)</label></dt>
				<dd><button id="login">Get npub from extension</button></dd>
				<dt><label for="npub">受信用公開鍵</label></dt>
				<dd><input id="npub" type="text" placeholder="npub1..." /></dd>
				<dt><label for="get-relays">リレー一覧をkind10002から取得</label></dt>
				<dd>
					<button id="get-relays">取得</button>
					<p class="status"></p>
				</dd>
			</dl>
			<h2>DM</h2>
			<fieldset>
				<legend>送信</legend>
				<dl>
					<dt><label for="relays-write">リレー(送信用)</label></dt>
					<dd><textarea id="relays-write"></textarea></dd>
					<dt><label for="npub-send">送信先公開鍵</label></dt>
					<dd><input id="npub-send" type="text" placeholder="npub1..." /></dd>
					<dt><label for="message">メッセージ</label></dt>
					<dd><textarea id="message"></textarea></dd>
					<dt><label for="send-dm">送信</label></dt>
					<dd>
						<button id="send-dm">送信</button>
						<p class="status"></p>
					</dd>
				</dl>
			</fieldset>
			<fieldset>
				<legend>受信</legend>
				<dl>
					<dt><label for="relays-read">リレー(受信用)</label></dt>
					<dd><textarea id="relays-read"></textarea></dd>
					<dt><label for="receive-dm">DM一覧取得</label></dt>
					<dd>
						<button id="receive-dm">取得</button>
						<p class="status"></p>
					</dd>
				</dl>
				<dl id="dm"></dl>
			</fieldset>
		</div>
		<script type="module" src="/src/main.ts"></script>
	</body>
</html>
